(()=>{var e={};e.id=895,e.ids=[895],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},641:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(7625),t(6694),t(5866);var r=t(3191),a=t(8716),l=t(7922),i=t.n(l),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7625)),"D:\\Task\\enterprise-task-management\\frontend\\src\\app\\projects\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6694)),"D:\\Task\\enterprise-task-management\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\Task\\enterprise-task-management\\frontend\\src\\app\\projects\\page.tsx"],u="/projects/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9868:(e,s,t)=>{Promise.resolve().then(t.bind(t,8980))},7358:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1137:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},3855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8980:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(326),a=t(7577),l=t(4690),i=t(5047),n=t(5342),o=t(8069),c=t(1223),d=t(381),u=t(3855),x=t(8307),p=t(1137),m=t(6557);let h=(0,m.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var g=t(3),y=t(8091),j=t(7358);let b=(0,m.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var f=t(8542);function v(){let{user:e,loading:s}=(0,l.a)(),t=(0,i.useRouter)(),[n,m]=(0,a.useState)([]),[v,w]=(0,a.useState)(!0),[k,C]=(0,a.useState)("");e?._id;let[M,P]=(0,a.useState)(""),[_,S]=(0,a.useState)(""),[q,I]=(0,a.useState)(!1),E=async()=>{try{w(!0);let e={};k&&(e.search=k),M&&(e.status=M),_&&(e.priority=_);let s=await o.Z.getProjects(e);s.success&&s.data?m(s.data.items||[]):m([])}catch(e){console.error("Failed to load projects:",e),d.Am.error("Failed to load projects")}finally{w(!1)}},Z=async e=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await o.Z.deleteProject(e),d.Am.success("Project deleted successfully"),E()}catch(e){console.error("Failed to delete project:",e),d.Am.error("Failed to delete project")}},A=n.filter(e=>{let s=e.title.toLowerCase().includes(k.toLowerCase())||e.description.toLowerCase().includes(k.toLowerCase()),t=!M||e.status===M,r=!_||e.priority===_;return s&&t&&r});if(s||v)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!e)return null;let T="admin"===e.role||"manager"===e.role;return r.jsx(f.Z,{children:(0,r.jsxs)("div",{className:"bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage your team projects"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:T&&(0,r.jsxs)("button",{onClick:()=>I(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[r.jsx(u.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"New Project"})]})})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[(0,r.jsxs)("div",{className:"relative flex-1 max-w-md",children:[r.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),r.jsx("input",{type:"text",placeholder:"Search projects...",value:k,onChange:e=>C(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full"})]}),(0,r.jsxs)("select",{value:M,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"planning",children:"Planning"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"testing",children:"Testing"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"on_hold",children:"On Hold"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),(0,r.jsxs)("select",{value:_,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"All Priority"}),r.jsx("option",{value:"low",children:"Low"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"critical",children:"Critical"})]})]}),(0,r.jsxs)("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(p.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Refresh"})]})]})}),0===A.length?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(h,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:T?"Get started by creating your first project.":"No projects match your current filters."}),T&&r.jsx("button",{onClick:()=>I(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Project"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>t.push(`/projects/${e._id}`),className:"p-1 text-gray-400 hover:text-blue-600",children:r.jsx(g.Z,{className:"w-4 h-4"})}),T&&r.jsx("button",{onClick:()=>Z(e._id),className:"p-1 text-gray-400 hover:text-red-600",children:r.jsx(y.Z,{className:"w-4 h-4"})})]})]}),r.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(0,c.z2)(e.status)}`,children:(0,c.uV)(e.status)}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(0,c._$)(e.priority)}`,children:(0,c.uV)(e.priority)})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(j.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:["Due: ",(0,c.p6)(e.deadline)]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(h,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[e.teamMembers?.length||0," team members"]})]}),e.budget&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(b,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:["$",e.budget.toLocaleString()]})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:["Manager:"," ","object"==typeof e.managerId?`${e.managerId.firstName} ${e.managerId.lastName}`:"Unknown"]}),(0,r.jsxs)("span",{children:["Created: ",(0,c.p6)(e.createdAt)]})]})})]},e._id))})]}),q&&r.jsx(N,{onClose:()=>I(!1),onSuccess:()=>{I(!1),E()}})]})})}function N({onClose:e,onSuccess:s}){let[t,i]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(n.Ig.MEDIUM),[g,y]=(0,a.useState)(""),[j,b]=(0,a.useState)(!1),[f,v]=(0,a.useState)([]),[N,w]=(0,a.useState)([]),{user:k}=(0,l.a)(),C=k?._id||"",M=async e=>{e.preventDefault(),b(!0);try{await o.Z.createProject({title:t,description:c,deadline:x,priority:m,managerId:C,teamMembers:N,tags:g.split(",").map(e=>e.trim()).filter(Boolean)}),d.Am.success("Project created successfully"),s()}catch(e){d.Am.error(e?.response?.data?.message||"Failed to create project")}finally{b(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create New Project"}),(0,r.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Project Title",value:t,onChange:e=>i(e.target.value),className:"w-full border rounded px-3 py-2",required:!0}),r.jsx("textarea",{placeholder:"Description",value:c,onChange:e=>u(e.target.value),className:"w-full border rounded px-3 py-2",rows:3}),r.jsx("input",{type:"date",value:x,onChange:e=>p(e.target.value),className:"w-full border rounded px-3 py-2"}),(0,r.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full border rounded px-3 py-2",children:[r.jsx("option",{value:n.Ig.LOW,children:"Low"}),r.jsx("option",{value:n.Ig.MEDIUM,children:"Medium"}),r.jsx("option",{value:n.Ig.HIGH,children:"High"}),r.jsx("option",{value:n.Ig.CRITICAL,children:"Critical"})]}),r.jsx("input",{type:"text",placeholder:"Tags (comma separated)",value:g,onChange:e=>y(e.target.value),className:"w-full border rounded px-3 py-2"}),r.jsx("label",{className:"block text-sm font-medium",children:"Assign Team Members"}),r.jsx("select",{multiple:!0,value:N,onChange:e=>{w(Array.from(e.target.selectedOptions).map(e=>e.value))},className:"w-full border rounded px-3 py-2 h-32",children:f.filter(e=>"admin"!==e.role).map(e=>(0,r.jsxs)("option",{value:e._id,children:[e.firstName," ",e.lastName," (",e.email,")"]},e._id))}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",disabled:j,children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:j,children:j?"Creating...":"Create"})]})]})]})})}},5342:(e,s,t)=>{"use strict";var r,a,l,i,n;t.d(s,{Ig:()=>a,T8:()=>i,hY:()=>n}),function(e){e.ADMIN="admin",e.MANAGER="manager",e.TEAM_MEMBER="team_member"}(r||(r={})),function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical"}(a||(a={})),function(e){e.PLANNING="planning",e.IN_PROGRESS="in_progress",e.TESTING="testing",e.COMPLETED="completed",e.ON_HOLD="on_hold",e.CANCELLED="cancelled"}(l||(l={})),function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.URGENT="urgent"}(i||(i={})),function(e){e.TODO="todo",e.IN_PROGRESS="in_progress",e.REVIEW="review",e.TESTING="testing",e.COMPLETED="completed",e.BLOCKED="blocked"}(n||(n={}))},7625:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`D:\Task\enterprise-task-management\frontend\src\app\projects\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[147,684],()=>t(641));module.exports=r})();